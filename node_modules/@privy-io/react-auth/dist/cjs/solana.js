"use strict";var e=require("@solana/wallet-adapter-base"),t=require("@solana/wallet-standard-wallet-adapter-base"),a=require("@wallet-standard/app"),r=require("./useSolanaWallets.js"),l=require("./events-context.js"),n=require("./privy-context.js");require("@ethersproject/logger"),require("eventemitter3"),require("@ethersproject/address"),require("react"),require("ofetch");let o=a=>a.filter(e.isWalletAdapterCompatibleStandardWallet).map((e=>new t.StandardWalletAdapter({wallet:e})));exports.SolanaAdapterConnector=r.SolanaWalletConnector,exports.useSolanaWallets=r.useSolanaWallets,exports.toSolanaWalletConnectors=e=>{let t,{get:l,on:n}=a.getWallets(),s=e?.shouldAutoConnect??!0,u=o(l()),p=u.map((e=>new r.SolanaWalletConnector(e,s))),i=[];return{_setOnConnectorsUpdated:e=>{t=e},onMount:()=>{i.push(n("register",((...e)=>{p=(u=u.concat(...o(e))).map((e=>new r.SolanaWalletConnector(e,s))),t?.(p)})),n("unregister",((...e)=>{p=(u=u.filter((t=>e.some((e=>t.wallet===e))))).map((e=>new r.SolanaWalletConnector(e,s))),t?.(p)})))},onUnmount:()=>{let e=i.pop();for(;e;)e(),e=i.pop()},get:()=>p}},exports.useFundWallet=e=>{l.usePrivyEventSubscription("fundSolanaWallet",e);let{fundSolanaWallet:t}=n.usePrivyInternal();return{fundWallet:t}};
