import{PrivyClientError as e}from"../Error.mjs";class r{_proxy;_privyInternal;_primaryPublicKey;_hdWalletIndex;_publicKey;constructor({proxy:e,privyInternal:r,publicKey:i,primaryPublicKey:t,hdWalletIndex:s}){this._proxy=e,this._privyInternal=r,this._publicKey=i,this._primaryPublicKey=t,this._hdWalletIndex=s}async request(r){const i=await this._privyInternal.getAccessToken();if(!i)throw new e({error:"Missing access token",code:"attempted_rpc_call_before_logged_in"});return(await this._proxy.solanaRpc({accessToken:i,request:r,publicKey:this._primaryPublicKey,signingPublicKey:this._publicKey,hdWalletIndex:this._hdWalletIndex})).response.data}toJSON(){return`PrivyEmbeddedSolanaProvider { address: '${this._publicKey}', request: [Function] }`}}export{r as EmbeddedSolanaWalletProvider};
